extends layouts/main
include mixins/postingList
include mixins/userList
block content

    if loggedUser
        .filters
            div.univ-filter
                form(action=`${routes.test2}`,method="get",id="filter")
                    select(name='univ', id = "univFilter")
                        option(value='' selected) í•™êµ
                        option(value='ì—°ì„¸ëŒ€í•™êµ') ì—°ì„¸ëŒ€
                        option(value='ê³ ë ¤ëŒ€í•™êµ') ê³ ë ¤ëŒ€
                        option(value="ì„œê°•ëŒ€í•™êµ") ì„œê°•ëŒ€
                        option(value="ì„œìš¸ëŒ€í•™êµ") ì„œìš¸ëŒ€
                        option(value="ì„±ê· ê´€ëŒ€í•™êµ") ì„±ê· ê´€ëŒ€
                        option(value="í•œì–‘ëŒ€í•™êµ") í•œì–‘ëŒ€
                        option(value="ì¤‘ì•™ëŒ€í•™êµ") ì¤‘ì•™ëŒ€í•™êµ
                        option(value="ê²½í¬ëŒ€í•™êµ") ê²½í¬ëŒ€í•™êµ
                        option(value="í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ") í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ
                        option(value="ì‹œë¦½ëŒ€í•™êµ") ì‹œë¦½ëŒ€í•™êµ
                        option(value="ì´í™”ì—¬ìëŒ€í•™êµ") ì´í™”ì—¬ìëŒ€í•™êµ
                        option(value="ê´€ë™ëŒ€ì˜ëŒ€") ê´€ë™ëŒ€ì˜ëŒ€
                        option(value="í¬í•­ê³µëŒ€") í¬í•­ê³µëŒ€
                        option(value="ì¹´ì´ìŠ¤íŠ¸") ì¹´ì´ìŠ¤íŠ¸

                    select(name='mbti', id = "mbtiFilter")
                        option(value="" selected) MBTI
                        option(value='ISTJ') ISTJ
                        option(value="ISFJ") ISFJ
                        option(value="INFJ") INFJ
                        option(value="INTJ") INTJ
                        option(value="ISTP") ISTP
                        option(value="ISFP") ISFP
                        option(value="INFP") INFP
                        option(value="INTP") INTP
                        option(value="ESTP") ESTP
                        option(value="ESFP") ESFP
                        option(value="ENFP") ENFP
                        option(value="ENTP") ENTP
                        option(value="ESTJ") ESTJ
                        option(value="ESFJ") ESFJ
                        option(value="ENFJ") ENFJ
                        option(value="ENTJ") ENTJ
                    input(type="text",name="name" placeholder="ë‹‰ë„¤ì„")
                    .agefilter(style="margin-top:3px; display:flex;")
                        div.selectStyle ë‚˜ì´
                        select(name="age1") ë‚˜ì´
                            option(value="" selected) ì„ íƒ
                            option(value="19") 19
                            option(value="20") 20
                            option(value="21") 21
                            option(value="22") 22
                            option(value="23") 23
                            option(value="24") 24
                            option(value="25") 25
                            option(value="26") 26
                            option(value="27") 27
                            option(value="28") 28
                            option(value="29") 29
                            option(value="30") 30
                            option(value="31") 31
                            option(value="32") 32
                        div ~ 
                        select(name="age2") ë‚˜ì´
                            option(value="" selected) ì„ íƒ
                            option(value="19") 19
                            option(value="20") 20
                            option(value="21") 21
                            option(value="22") 22
                            option(value="23") 23
                            option(value="24") 24
                            option(value="25") 25
                            option(value="26") 26
                            option(value="27") 27
                            option(value="28") 28
                            option(value="29") 29
                            option(value="30") 30
                            option(value="31") 31
                            option(value="32") 32
                    select(name='locat')
                        option(value='' selected) ì§€ì—­
                        option(value='ì„œìš¸') ì„œìš¸
                        option(value='ê²½ê¸°ë„') ê²½ê¸°ë„
                        option(value="ê°•ì›ë„") ê°•ì›ë„
                        option(value="ê´‘ì£¼") ê´‘ì£¼
                        option(value="ëŒ€êµ¬") ëŒ€êµ¬
                        option(value="ëŒ€ì „") ëŒ€ì „
                        option(value="ìš¸ì‚°") ìš¸ì‚°
                        option(value="ì„¸ì¢…") ì„¸ì¢…
                        option(value="ì¶©ì²­ë¶ë„") ì¶©ì²­ë¶ë„
                        option(value="ì¶©ì²­ë‚¨ë„") ì¶©ì²­ë‚¨ë„
                        option(value="ì „ë¼ë¶ë„") ì „ë¼ë¶ë„
                        option(value="ì „ë¼ë‚¨ë„") ì „ë¼ë‚¨ë„
                        option(value="ê²½ìƒë¶ë„") ê²½ìƒë¶ë„
                        option(value="ê²½ìƒë‚¨ë„") ê²½ìƒë‚¨ë„
                        option(value="ì œì£¼") ì œì£¼ë„
                    input(type="submit" value='ì¹œêµ¬ì°¾ê¸°')
                    a(href=`${routes.test2}?${queryString}`)
                        i(style="width:15px; margin-left:10px; color: #4444447a;").fas.fa-sync-alt
        
        //- -for (let i = startPage; i <= endPage ; i++)
        //-     if i === currentPage
        //-         a.pageBtn.current(href=`${routes.test}?page=${i}`)
        //-             span=i
        //-     else
        //-         a.pageBtn(href=`${routes.test}?page=${i}`)
        //-             span=i
            
        //- .postings#postings
        //-             each item in posts
        //-                     +postingList({
        //-                         id : item._id,
        //-                         title: item.title,
        //-                         description: item.description,
        //-                         creator : item.creator,
        //-                         creatorName : item.creatorName,
        //-                         like : item.like,
        //-                         user : item.creator,
        //-                         createdAt : item.createdAt,
        //-                         timeForToday,
        //-                         comments : item.comments
        //-                     }) 
        div(style="margin-bottom: 5px;") #{univ ? univ : "" } #{mbti ? mbti : ""  } #{age1 ? `${age1}ì‚´` : ""} ~ #{age2 ? `${age2}ì‚´` : ""} : #{totalUser} ëª… ê²€ìƒ‰ë¨
        .users
            each item in users
                    +userList({
                        id: item._id,
                        name: item.name,
                        description: item.description,
                        sex: item.sex,
                        link: item.link,
                        avatarUrl: item.avatarUrl,
                        age: item.age,
                        univ: item.univ,
                        mbti: item.mbti,
                        like: item.like,
                        style: item.style,
                        length : item.images.length,
                        location : item.location,
                        hide: item.hide
                    })

        .pageBox(style="display: flex;margin-top: 12px; justify-content: space-evenly")

            if users.length < 10
                div 
            else 
                if currentPage === endPage
                    a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage-1}`)
                        button(style="border:1px solid; margin-right: 10px;text-align:center;")
                            <i class="fas fa-caret-left"></i>
                    a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage+1}`)
                        button(style="border:1px solid; margin-right: 10px;text-align:center;  display:none;")
                            <i class="fas fa-caret-right"></i>
                else
                    if currentPage === 1
                        a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage-1}`)
                            button(style="border:1px solid; margin-right: 10px;text-align:center;display:none;")
                                <i class="fas fa-caret-left"></i>
                        a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage+1}`)
                            button(style="border:1px solid; margin-right: 10px;text-align:center;")
                                <i class="fas fa-caret-right"></i>
                    else
                        a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage-1}`)
                            button(style="border:1px solid; margin-right: 10px;text-align:center;")
                                <i class="fas fa-caret-left"></i>
                        a.pageBtn(href=`${routes.test2}?${queryString}&page=${currentPage+1}`)
                            button(style="border:1px solid; margin-right: 10px;text-align:center;")
                                <i class="fas fa-caret-right"></i>


            //- if currentPage === endPage
            //-     a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage-1}`)
            //-         button(style="border:1px solid; margin-right: 10px;text-align:center;")
            //-             <i class="fas fa-caret-left"></i>
            //-     a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage+1}`)
            //-         button(style="border:1px solid; margin-right: 10px;text-align:center;  display:none;")
            //-             <i class="fas fa-caret-right"></i>
            //- else
            //-     if currentPage === 1
            //-         a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage-1}`)
            //-             button(style="border:1px solid; margin-right: 10px;text-align:center;display:none;")
            //-                 <i class="fas fa-caret-left"></i>
            //-         a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage+1}`)
            //-             button(style="border:1px solid; margin-right: 10px;text-align:center;")
            //-                 <i class="fas fa-caret-right"></i>
            //-     else
            //-         a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage-1}`)
            //-             button(style="border:1px solid; margin-right: 10px;text-align:center;")
            //-                 <i class="fas fa-caret-left"></i>
            //-         a.pageBtn(href=`${routes.test2}?univ=${univ}&mbti=${mbti}&page=${currentPage+1}`)
            //-             button(style="border:1px solid; margin-right: 10px;text-align:center;")
            //-                 <i class="fas fa-caret-right"></i>
    else
        .noticeText
            div(style="line-height:3;") ì—°ê³ ë§ì—ëŠ” í˜„ì¬ #{m}ì˜ ë‚¨ì„±ë¶„, #{fm}ì˜ ì—¬ì„±ë¶„ë“¤ì´ ì´ìš©ì¤‘ì…ë‹ˆë‹¤! í˜„ì¬ëŠ”, MVPí…ŒìŠ¤íŠ¸ë¡œ ì„œìš¸ëŒ€,ê³ ë ¤ëŒ€,ì—°ì„¸ëŒ€,ì„œê°•ëŒ€,í•œì–‘ëŒ€,ì„±ê· ê´€ëŒ€,ì¤‘ì•™ëŒ€,ê²½í¬ëŒ€,ì™¸ëŒ€,ì‹œë¦½ëŒ€,ì´ëŒ€ í•™ìƒë“¤ë¡œë§Œ ì§„í–‰ì¤‘ì…ë‹ˆë‹¤ !
        .noticeText
            div(style="line-height:3; text-align: center; font-weight:700;") ì—°ê³ ë§ì€ 3ì›” ì¤‘ì— ìƒˆë¡­ê²Œ ë¦¬ë‰´ì–¼ í•œ ì„œë¹„ìŠ¤ë¥¼ ì¶œì‹œ ì˜ˆì •ì…ë‹ˆë‹¤. ë¦¬ë‰´ì–¼ ë  ì—°ê³ ë§ë„ ë§ì´ ê´€ì‹¬ ê°€ì ¸ì£¼ì„¸ìš”ğŸ˜Š
                | (ë¦¬ë‰´ì–¼ ì—°ê³ ë§ ì‚¬ì „ ì‹ ì²­ ê³µì§€ëŠ” 
                | ì¸ìŠ¤íƒ€ê·¸ë¨ê³¼ ì—°ê³ ë§ë‚´ì—ì„œ ê³µì§€í•  ì˜ˆì •ì…ë‹ˆë‹¤.)
        .qnaButton
            a(href="https://open.kakao.com/o/sAMFlCPc")
                button(style="width: 100%; margin: 0 auto;") ë¬¸ì˜í•˜ê¸°
            

    